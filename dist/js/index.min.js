!function(){function a(a,b,c){var d="string"==typeof c;c||(b?p(b)?c=j(k(l(a))):(c=b,b=null):(c=a,a=""),"string"!=typeof a?(b=a,a=""):(d="string"==typeof c,d||b||(b=f(c)))),a=a&&k(a);var e=a&&D.mods[a];if(D.debug||!e||!e.name||!(d&&2==e.loaded||e.exports)){d&&D.enable_ozma&&(b=null);var g=q(this)?this:u;if(e=D.mods[a]={name:a,url:e&&e.url,host:g,deps:b||[]},""===a&&(s=e),"string"!=typeof c)e.block=c,e.loaded=2;else{var h=D.aliases;h&&(c=c.replace(/\{(\w+)\}/g,function(a,b){return h[b]||""})),e.url=c}e.block&&!o(e.block)&&(e.exports=c)}}function b(a,h,i){if("string"==typeof a){if(!h)return(D.mods[k(l(a,t))]||{}).exports;a=[a]}else h||(h=a,a=f(h));var j=q(this)?this:u;i||(i={url:t&&t.url});for(var m,n=0,o=e.call(j,a,i),p=0,r=o.length;r>p;p++)m=o[p],m.is_reset&&(m=D.mods[m.name]),m.url&&2!==m.loaded&&(n++,m.loaded=1,d(m,function(){this.loaded=2;var c=s;c&&(c.name=this.name,c.url=this.url,D.mods[this.name]=c,s=null),--n<=0&&b.call(j,a,h,i)}));n||(i.deps=a,i.host=j,i.block=h,setTimeout(function(){g(a,i),o.push(i),c(o.reverse())},0))}function c(a){for(var d,e,f,g,h,i,j,l,m,n,o=H;d=a.pop();)if(d.is_reset?(n=r(D.mods[d.name]),n.host=d.host,n.newname=d.newname,d=n,I[d.newname]||(I[d.newname]=[]),I[d.newname].push(d),d.exports=void 0):d.name&&(d=D.mods[d.name]||d),d.block&&(d.running||void 0===d.exports)){j=[],l={},m={id:d.name,filename:d.url,exports:l},i=d.deps.slice(),i[d.block.hiddenDeps?"unshift":"push"]("require","exports","module");for(var p=0,q=i.length;q>p;p++)switch(e=i[p]){case"require":j.push(b);break;case"exports":j.push(l);break;case"module":j.push(m);break;case"host":j.push(d.host);break;case"finish":f=d.name,o[f]?o[f].push(a):o[f]=[a],j.push(function(a){setTimeout(function(){void 0!==a&&(d.exports=a),o[f]&&(J.call(o[f],function(a){this(a)},c),delete o[f],d.running=0)},0)}),h=1;break;default:j.push(((I[e]||[]).pop()||D.mods[k(e)]||{}).exports)}if(!d.running){t=d,g=d.block.apply(d.host,j)||null,t=!1,l=m.exports,d.exports=void 0!==g?g:l;for(var s in l){s&&(d.exports=l);break}}if(h){d.running=1;break}}}function d(a,b){var c=a.url,e=E[c];if(e)1===e?b.call(a):e.push([b,a]);else{var f=a.name,g=F;if(a.deps&&a.deps.length&&1!==g[f]){if(g[f]=[a.deps.length,b],a.deps.forEach(function(b){var c=D.mods[k(b)];1!==this[b]&&c.url&&2!==c.loaded?(this[b]||(this[b]=[]),this[b].push(a)):g[f][0]--},G),g[f][0]>0)return;g[f]=1}e=E[c]=[[b,a]];var h=/^\w+:\/\//.test(c)?c:(D.enable_ozma&&D.distUrl||D.baseUrl||"")+(D.enableAutoSuffix?i(c):c);n.call(a.host||this,h,function(){J.call(e,function(a){a[0].call(a[1])}),E[c]=1,G[f]&&1!==G[f]&&(G[f].forEach(function(a){var b=this[a.name];--b[0]<=0&&(this[a.name]=1,d(a,b[1]))},g),G[f]=1)})}}function e(b,c,d){if(d=d||[],!b[0])return d;var f,h=d.history;if(h||(h=d.history={}),b[1])f=b,b=!1;else{var i,m=b[0],n=w.exec(m);n&&(m=n[2],n=n[1]);var o=k(m);if(!D.mods[o]&&!C[o]){var p=k(l(m,c));o!==p&&(D.mods[c.url+":"+o]=p,o=p),D.mods[p]||a(p,j(p))}if(b=c=D.mods[o],!b)return d;if("new"===n?b={is_reset:!0,deps:b.deps,name:o,newname:n+"!"+o,host:this}:i=b.name,h[i])return d;h[i]?f=[]:(f=b.deps||[],i&&(h[i]=!0))}for(var q=f.length-1;q>=0;q--)h[f[q]]||e.call(this,[f[q]],c,d);return b&&(g(f,b),d.push(b)),d}function f(a){var b=a.hiddenDeps||[];if(!a.hiddenDeps){var c=a.toString(),d=null;for(b=a.hiddenDeps=[];d=x.exec(c);)b.push(d[0].slice(10,-2))}return b.slice()}function g(a,b){J.call(a.slice(),function(c,d){var e=this[b.url+":"+k(c)];"string"==typeof e&&(a[d]=e)},D.mods)}function h(a){for(var b in a)if("aliases"===b){D[b]||(D[b]={});for(var c in a[b])D[b][c]=a[b][c];var d=D.mods;for(var e in d)d[e].name=k(e),d[d[e].name]=d[e]}else D[b]=a[b]}function i(a){return a.replace(/(.+?)(_src.*)?(\.\w+)$/,function(a,b,c,d){return b+(c&&"_combo"||"_pack")+d})}function j(a){return y.test(a)?a:a+".js"}function k(a){var b=D.aliases;return b&&(a=a.replace(B,function(a,c){return b[c]||c+"/"})),a}function l(a,b){var c=z.exec(a);return c&&b&&(a=(b.url||"").replace(/[^\/]+$/,"")+c[0]),m(a)}function m(a){a=a.replace(A,"$1");for(var b,c,d=a,e=/(\.\.\/)+/g;b=(e.exec(d)||[])[0];)c=b.match(/\.\.\//g).length,a=a.replace(new RegExp("([^/\\.]+/){"+c+"}"+b),"");return a.replace(/\/\//g,"/")}function n(a,b){var c=q(this)?this.document:document,d=c.createElement("script");d.type="text/javascript",d.async="async",b?o(b)&&(b={callback:b}):b={},b.charset&&(d.charset=b.charset),d.src=a;var e=c.getElementsByTagName("head")[0];d.onload=d.onreadystatechange=function(a,c){(c||!d.readyState||/loaded|complete/.test(d.readyState))&&(d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=void 0,!c&&b.callback&&b.callback())},e.insertBefore(d,e.firstChild)}function o(a){return"[object Function]"===v.call(a)}function p(a){return"[object Array]"===v.call(a)}function q(a){return"setInterval"in a}function r(a){function b(){}return b.prototype=a,new b}var s,t,u=this,v=Object.prototype.toString,w=/(.*)!(.+)/,x=/\Wrequire\((['"]).+?\1\)/g,y=/\.(js|json)$/,z=/^\.+?\/.+/,A=/(^|\/)\.\//g,B=/^([\w\-]+)\//,C={require:1,exports:1,module:1,host:1,finish:1},D={mods:{}},E={},F={},G={},H={},I={},J=Array.prototype.forEach||function(a,b){for(var c=0,d=this.length;d>c;c++)c in this&&a.call(b,this[c],c,this)},K={VERSION:"2.5.1",define:a,require:b,config:h,seek:f,fetch:d,realname:k,basename:l,filesuffix:j,namesuffix:i,_getScript:n,_clone:r,_forEach:J,_isFunction:o,_isWindow:q};if(b.config=h,a.amd={jQuery:!0},u.window)u.oz=K,u.define=a,u.require=b;else{exports.oz=K,exports._config=D;for(var L in K)exports[L]=K[L];var M=function(a){return function(){return exports[a].apply(this,arguments)}};c=M("exec"),d=M("fetch"),b=M("require"),b.config=h}}(),require.config({enable_ozma:!0}),define("js/views/base",function(){var a={},b=Backbone.View.extend({__base:staticBase+"template/modules/",loadTemplate:function(b,c){1===arguments.length&&(c=b,b=null);var d=this.moduleName+"/"+(b||this.template);a[d]?c(a[d]):$.getScript(this.__base+d+".js",function(){var b=Object.keys(jade.templates);a[d]=jade.templates[b[0]],delete jade.templates[b[0]],c(a[d])}.bind(this))},$:function(){return this.$el.find.apply(this.$el,arguments)},$doc:$(document),$body:$(document.body),initialize:function(){this.$el.data("view",this),this.$el[0].__view=this,this.init.apply(this,arguments),this.$el.trigger({type:"viewbind",view:this}),b.views.push(this)},init:function(){},module:function(a,b){var c=$("[data-module="+a+"]");if(c.length>0){var d=c.data("view");d?b(d):c.one("viewbind",function(){b(c.data("view"))})}else b(null)},render:function(){var a=this;this.buildHtml(function(b){a.$el.html(b),a.trigger("afterrender")}.bind(this))},renderTo:function(a){var b=this;this.buildHtml(function(c){b.$el.find(a).html(c),b.trigger("afterrender")}.bind(this))},buildHtml:function(a){var b=this.model||this.collection;this.loadTemplate(function(c){var d={},e=b.toJSON();e.__combined?d=e:d[b.action]=e,a(c(d))})}});return window.wpa||$(document).on("keydown",function(a){b.views.forEach(function(b){b.trigger("keydown",{keyCode:a.keyCode})})}),window.__tv_keydown=function(a){var c={21:37,19:38,22:39,20:40};a=c[a],a&&b.views.forEach(function(b){b.trigger("keydown",{keyCode:a})})},b.views=[],b}),define("modules/weixin/view",["js/views/base"],function(a){var b=a.extend({moduleName:"weixin",init:function(){}});return b}),define("modules/weixin/index",["modules/weixin/view"],function(a){return{init:function(b){new a({el:b})}}}),define("js/common/domWatcher",function(){window.Element&&function(a){a.matchesSelector=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}(Element.prototype);var a=function(a){a=a||{},this.$el=$(a.el||document)};return a.prototype.exist=function(a,b){var c=this.$el.find(a);c.length>0&&b(c),this.onadd(a,b)},a.prototype.onadd=function(a,b){var c=this;this.$el.on("DOMNodeInserted",function(d){var e=d.target,f=c._find(e,a);f.length>0&&b(f)})},a.prototype.onremove=function(a,b){var c=this;this.$el.on("DOMNodeRemoved",function(d){var e=d.target,f=c._find(e,a);f.length>0&&b(f)})},a.prototype._find=function(a,b){var c=[];if(1===a.nodeType){var d=$(a).find(b);d.length>0&&(c=Array.prototype.slice.call(d,0)),a.matchesSelector(b)&&c.push(a)}return $(c)},a}),define("js/common/moduleRunner",["js/common/domWatcher"],function(a){return(new a).onremove("[data-module]",function(a){a.each(function(a,b){var c=b.__view;c&&!$(b).data("view")&&c.stopListening()})}),{run:function(b){for(var c in b){var d=b[c];if(d)try{d.init&&!function(b){(new a).exist('[data-module="'+c+'"]',function(a){a.data("view")||b.init(a)})}(d)}catch(e){console.error(e.stack)}}}}}),define("js/index/modules",["js/common/moduleRunner","modules/weixin/index"],function(a,b){var c={weixin:b};a.run(c)}),require(["js/index/modules"],function(){});